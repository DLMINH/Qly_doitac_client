<div class="clearfix"></div>
<div class="row">
    <div class="col-md-12 col-sm-12 col-xs-12" ng-init="getAllContract()">
        <!-- <div class="x_panel"> -->
        <div class="x_title">
            <!-- <h2>Hợp Đồng</h2> -->
            <ul class="nav navbar-right panel_toolbox">
                <li class="dropdown">
                    <a class="dropdown-toggle cursor" data-toggle="dropdown" role="button" aria-expanded="false">
                            Thêm
                            <i class="fa fa-wrench"></i>
                        </a>
                    <ul class="dropdown-menu" role="menu">
                        <li>
                            <a data-toggle="collapse" data-target="#add_partner" class="cursor"> Thêm Đối tác </a>
                        </li>
                        <li>
                            <a data-toggle="modal" data-target="#add_contract" class="cursor"> Thêm hợp đồng </a>
                        </li>
                        <li>
                            <a data-toggle="collapse" data-target="#insert_excel" class="cursor"> Thêm hợp đồng từ excel (nước ngoài)</a>
                        </li>
                        <li>
                            <a data-toggle="collapse" data-target="#insert_excel_in" class="cursor"> Thêm hợp đồng từ excel (trong nước)</a>
                        </li>
                        <li>
                            <a class="cursor" ng-click="exportData()"> Xuất hợp đồng thành excel</a>
                        </li>
                        <li>
                            <a data-toggle="modal" data-target="#share_contract" class="cursor"> Chia sẻ hợp đồng</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <div class="input-group pull-right">
                <input type="text" class="form-control" placeholder="Search for..." ng-model="search" style="border-radius:25px; border: 1px solid rgba(221,226,232,.49); box-shadow: inset 0 1px 0 rgba(0,0,0,.075);">
            </div>
            <div class="clearfix"></div>
        </div>
        <div class="x_content">
            <div class="alert alert-warning" ng-if="warning">
                <strong>{{warningMessage}}</strong>
            </div>
            <div class="alert alert-success" ng-if="success">
                <strong>{{successMessage}}</strong>
            </div>
            <div class="alert alert-danger" ng-if="danger">
                <strong>{{errorMessage}}</strong>
            </div>
            <!-- form tao unit -->
            <div class="collapse" id="insert_excel">
                <ul class="nav navbar-right panel_toolbox">
                    <li><a data-toggle="collapse" data-target="#insert_excel" class="cursor" id="close_insert_excel"><i class="fa fa-chevron-up"></i></a>
                    </li>
                </ul>
                <h2>Thêm hợp đồng từ excel (nước ngoài)</h2>
                <input type="file" name="xlfile" id="xlf" ng-init="convert()">
                <button ng-click="setExcelTable()">Kiểm tra dữ liệu</button>
                <button ng-click="importExcel()" ng-if="checkContractValue">Import</button>
                <div class="clearfix"></div>
                <div class="table-responsive">
                    <table class="table table-striped jambo_table bulk_action" ng-if="excelTable != null">
                        <thead>
                            <tr class="headings">
                                <th class="column-title">Tên cơ quan hợp tác</th>
                                <th class="column-title">Quốc gia</th>
                                <th class="column-title">Người ký đối tác</th>
                                <th class="column-title">Nội dung hợp tác</th>
                                <th class="column-title">Người ký VNU</th>
                                <th class="column-title">Đơn vị theo dõi</th>
                                <th class="column-title">Ngày ký</th>
                                <th class="column-title">Ngày hết hiệu lực</th>
                                <th class="column-title">Tự động renew</th>
                                <th class="column-title">Hiệu quả hợp tác</th>
                                <th class="column-title">Lưu ý</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="even pointer" ng-repeat="contract in excelTable" id="excel_{{contract.STT}}">
                                <td id="partnerName_{{contract.STT}}">{{contract.partnerName}}</td>
                                <td id="">{{contract.nation}}</td>
                                <td id="contactName_{{contract.STT}}">{{contract.contactName}}</td>
                                <td id="" ng-bind-html="contract.contentContract"></td>
                                <td id="uetMan_{{contract.STT}}" ng-mouseleave="hideButton(contract.STT)">
                                    <p id="p_uetMan_{{contract.STT}}" ng-mouseover="showButton(contract.STT)">{{contract.uetMan}}</p>
                                </td>
                                <td id="unitName_{{contract.STT}}">
                                    {{contract.unitName}}
                                </td>
                                <td id="">{{contract.startDate | date:'dd/MM/yyyy'}}</td>
                                <td id="">{{contract.endDate | date:'dd/MM/yyyy'}}</td>
                                <td id="">{{contract.renew}}</td>
                                <td id="">{{contract.result}}</td>
                                <td id="">{{contract.notice}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div class="collapse" id="insert_excel_in">
                <ul class="nav navbar-right panel_toolbox">
                    <li><a data-toggle="collapse" data-target="#insert_excel_in" class="cursor" id="close_insert_excel_in"><i class="fa fa-chevron-up"></i></a>
                    </li>
                </ul>
                <h2>Thêm hợp đồng từ excel (trong nước)</h2>
                <input type="file" name="xlfile" id="xlfIn" ng-init="convertIn()">
                <button ng-click="setExcelTableIn()">Kiểm tra dữ liệu</button>
                <button ng-click="importExcel()" ng-if="checkContractValue">Import</button>
                <div class="clearfix"></div>
                <div class="table-responsive">
                    <table class="table table-striped jambo_table bulk_action" ng-if="excelTableIn != null">
                        <thead>
                            <tr class="headings">
                                <th class="column-title">Tên cơ quan hợp tác</th>
                                <th class="column-title">Quốc gia</th>
                                <th class="column-title">Người ký đối tác</th>
                                <th class="column-title">Nội dung hợp tác</th>
                                <th class="column-title">Người ký VNU</th>
                                <th class="column-title">Đơn vị theo dõi</th>
                                <th class="column-title">Ngày ký</th>
                                <th class="column-title">Ngày hết hiệu lực</th>
                                <th class="column-title">Tự động renew</th>
                                <th class="column-title">Hiệu quả hợp tác</th>
                                <th class="column-title">Lưu ý</th>
                                <th class="column-title">Biên bản ghi nhớ</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="even pointer" ng-repeat="contract in excelTableIn" id="In_excel_{{contract.STT}}">
                                <td id="In_partnerName_{{contract.STT}}">{{contract.partnerName}}</td>
                                <td id="">{{contract.nation}}</td>
                                <td id="In_contactName_{{contract.STT}}">{{contract.contactName}}</td>
                                <td id="" ng-bind-html="contract.contentContract"></td>
                                <td id="In_uetMan_{{contract.STT}}" ng-mouseleave="hideButton(contract.STT)">
                                    <p id="In_p_uetMan_{{contract.STT}}" ng-mouseover="showButton(contract.STT)">{{contract.uetMan}}</p>
                                </td>
                                <td id="In_unitName_{{contract.STT}}">
                                    {{contract.unitName}}
                                </td>
                                <td id="">{{contract.startDate | date:'dd/MM/yyyy'}}</td>
                                <td id="">{{contract.endDate | date:'dd/MM/yyyy'}}</td>
                                <td id="">{{contract.renew}}</td>
                                <td id="">{{contract.result}}</td>
                                <td id="">{{contract.notice}}</td>
                                <td id="">
                                    <label for="contract-excel-{{contract.STT}}" class="cursor">
                                        <!-- <i class="fa fa-file-pdf-o"></i> -->
                                        Chọn file
                                    </label>
                                    <input class="attach-file" type="file" name="input_file_pdf" id="contract-excel-{{contract.STT}}" accept=".doc, .docx, .pdf" ng-show="show">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <!-- add partner -->
            <div class="form_wizard wizard_horizontal collapse" id="add_partner">
                <div id="step-1" ng-if="editInfo != true">
                    <form class="form-horizontal form-label-left" ng-init="getAllContinent()">
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a data-toggle="collapse" data-target="#add_partner" class="cursor"><i class="fa fa-chevron-up"></i></a>
                            </li>
                        </ul>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">Tên Đối tác</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" name="country" id="autocomplete-custom-append" class="form-control col-md-10" ng-model="input.partnerName" required />
                            </div>
                        </div>
                        <div class="form-group" ng-init="getAllNation()">
                            <label class="control-label col-md-3 col-sm-3 col-xs-12">Quốc Gia</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <select class="form-control" ng-model="input.nationId">
                                    <option ng-repeat="nation in allNations" value="{{nation}}">
                                        {{nation.nationName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12" for="last-name">Tên cơ quan hợp tác: </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" id="last-name" name="last-name" class="form-control col-md-7 col-xs-12" ng-model="Partner.partnerName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-4 col-xs-12">Quốc Gia: </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input id="middle-name" readonly="readonly" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="Partner.nation.nationName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Châu Lục</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <select class="form-control" ng-model="input.continent" ng-change="showNation(input.continent)">
                                    <option value="" selected="selected">
                                        -- Chọn châu lục --
                                    </option>
                                    <option ng-repeat="continent in allContinent" value="{{continent.nation}}">
                                        {{continent.continentName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Quốc Gia</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <select class="form-control" ng-model="Partner.nationId">
                                    <option value="" selected="selected">
                                        -- Chọn quốc gia --
                                    </option>
                                    <option ng-repeat="nation in allNations" value="{{nation.id}}">
                                        {{nation.nationName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Giám đốc</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.director">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Email</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.email">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12" for="last-name">Website</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" id="last-name" name="last-name" class="form-control col-md-7 col-xs-12" ng-model="Partner.website">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-4 col-xs-12">Số điện thoại</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input id="middle-name" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="Partner.phone">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Đại chỉ</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Mô tả</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.description">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Mã số thuế</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.taxCode">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Lĩnh vực làm việc</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.fieldWork">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-4">
                                <button type="submit" class="btn btn-success" ng-click="createPartner()">Tạo</button>
                            </div>
                        </div>
                        <div class="divider-dashed"></div>
                    </form>
                </div>
                <div id="step-2" ng-if="editInfo">
                    <div class="alert alert-danger" ng-if="danger_edit">
                        <strong>{{errorMessage}}</strong>
                    </div>
                    <div class="alert alert-success" ng-if="successdelete_edit">
                        <strong>{{successMessage}}</strong>
                    </div>
                    <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                        <ul class="nav navbar-right panel_toolbox">
                            <li><a class="cursor" ng-click="close()"><i class="fa fa-close"></i></a>
                            </li>
                        </ul>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12" for="last-name">Tên cơ quan hợp tác: </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" id="last-name" name="last-name" class="form-control col-md-7 col-xs-12" ng-model="Partner.partnerName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-4 col-xs-12">Quốc Gia: </label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input id="middle-name" readonly="readonly" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="Partner.nation.nationName">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Châu Lục</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <select class="form-control" ng-model="input.continent" ng-change="showNation(input.continent)">
                                    <option value="" selected="selected">
                                        -- Chọn châu lục --
                                    </option>
                                    <option ng-repeat="continent in allContinent" value="{{continent.nation}}">
                                        {{continent.continentName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Quốc Gia</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <select class="form-control" ng-model="Partner.nationId">
                                    <option value="" selected="selected">
                                        -- Chọn quốc gia --
                                    </option>
                                    <option ng-repeat="nation in allNations" value="{{nation.id}}">
                                        {{nation.nationName}}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Giám đốc</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.director">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Email</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.email">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12" for="last-name">Website</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input type="text" id="last-name" name="last-name" class="form-control col-md-7 col-xs-12" ng-model="Partner.website">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="middle-name" class="control-label col-md-3 col-sm-4 col-xs-12">Số điện thoại</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input id="middle-name" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="Partner.phone">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Đại chỉ</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.address">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Mô tả</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.description">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Mã số thuế</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.taxCode">
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Lĩnh vực làm việc</label>
                            <div class="col-md-6 col-sm-6 col-xs-12">
                                <input class="date-picker form-control col-md-7 col-xs-12" type="text" ng-model="Partner.fieldWork">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-md-6 col-sm-6 col-xs-12 col-md-offset-4" ng-init="done = false">
                                <button type="submit" class="buttonFinish btn btn-default" ng-click="close()" ng-if="done == true">Hoàn thành</button>
                                <button type="submit" class="btn btn-primary" ng-click="done()" ng-if="done == false">Để sau</button>
                                <button type="submit" class="btn btn-success" ng-click="editPartnerInfo(false); done = true;">Tạo</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <!-- end add partner -->
            <div class="table-responsive">
                <ul uib-pagination total-items="totalItems" ng-model="currentPage" max-size="noOfPages" items-per-page="entryLimit"></ul>
                <table class="table table-striped jambo_table bulk_action" id="tableExcel">
                    <thead>
                        <tr class="headings">
                            <!-- <th> -->
                            <!-- <input type="checkbox" id="check-all" class="flat"> -->
                            <!-- </th> -->
                            <th class="column-title">Tên cơ quan hợp tác</th>
                            <!-- <th class="column-title">Quốc Gia</th> -->
                            <th class="column-title">Người ký (VNU-UET)</th>
                            <th class="column-title">Người ký (Đối tác)</th>
                            <th class="column-title">Nội dung hợp tác chính</th>
                            <th class="column-title">Kinh phí</th>
                            <th class="column-title">Ngày ký</th>
                            <th class="column-title">Ngày hết hiệu lực</th>
                            <th class="column-title">Đơn vị theo dõi</th>
                            <!-- <th class="column-title">Hiệu quả hợp tác</th> -->
                            <!-- <th class="column-title">Lưu ý</th> -->
                            <th class="column-title">Biên bản</th>
                            <th class="column-title">Sửa</th>
                            <th class="column-title">Xóa</th>
                            <th class="column-title">
                                <i class="fa fa-chevron-down cursor" data-toggle="collapse" data-target="#export_xcel"></i>
                            </th>
                            <!-- <th class="column-title no-link last"><span class="nobr">Action</span> -->
                            <!-- </th> -->
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="even pointer" ng-repeat="contract in filtered = allContract | filter : search |
                                startFrom:(currentPage-1)*entryLimit | limitTo:entryLimit">
                            <td class="">
                                <!-- {{contract.partner.partnerName}} -->
                                <a class="cursor" data-toggle="modal" data-target="#show_partner_details" ng-click="editPartner(contract.partner, false); click('information-tab')">
                                        {{contract.partner.partnerName}}
                                    </a>
                            </td>
                            <!-- <td class="">{{contract.partner.nation.nationName}}</td> -->
                            <td class="">{{contract.uetMan.uetManName}}</td>
                            <td class="">{{contract.partnerContact.contactName}}
                                <br /> {{contract.partnerContact.about}}</td>
                            <td class="" ng-bind-html="contract.contentContract"></td>
                            <td class="">{{contract.funding}}</td>
                            <td class="">{{contract.startDate | date:'dd/MM/yyyy'}}</td>
                            <td class="">{{contract.endDate | date:'dd/MM/yyyy'}}</td>
                            <td class="">{{contract.unitName.unitName}}</td>
                            <!-- <td class="">{{contract.result}}</td> -->
                            <!-- <td class="">{{contract.notice}}</td> -->
                            <td class="">
                                <a ng-if="contract.attachFileAdd != null" class="cursor" data-toggle="modal" data-target="#view_file" class="" ng-click="getLinkFile(contract.attachFileAdd)">
                                        <i class="fa fa-file-pdf-o"></i>
                                    </a>
                            </td>
                            <td class="">
                                <a class="cursor" data-toggle="modal" data-target="#edit_contract" class="" ng-click="setEditContract(contract)">
                                        <i class="fa fa-edit"></i>
                                    </a>
                            </td>
                            <td class="" ng-click="confirmDelete(contract.id)">
                                <a class="cursor" data-toggle="modal" data-target="#delete_contract"><i class="fa fa-trash"></i></a>
                            </td>
                            <td class="a-center">
                                <input type="checkbox" class="flat" name="table_records" ng-click="selectContract(contract); contract.checked = !contract.checked" ng-checked="contract.checked">
                            </td>
                        </tr>
                    </tbody>
                </table>
                <ul uib-pagination total-items="totalItems" ng-model="currentPage" max-size="noOfPages" items-per-page="entryLimit"></ul>
            </div>
            <div ui-view></div>
            <!-- modal doc -->
            <div class="modal fade" tabindex="-1" role="dialog" id="view_file">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-body">
                            <div style="text-align: center;">
                                <iframe src="{{modalFileLink}}" style="width:100%; height:85vh;" frameborder="0"></iframe>
                            </div>
                            <!-- {{modalFileLink}} -->
                        </div>
                    </div>
                </div>
            </div>
            <!-- edit partner info -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true" id="edit_contract">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" id="close_modal_edit"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title" id="myModalLabel">Chỉnh sửa hợp đồng</h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" ng-if="danger_edit">
                                <strong>{{errorMessage}}</strong>
                            </div>
                            <div class="alert alert-success" ng-if="successdelete_edit">
                                <strong>{{successMessage}}</strong>
                            </div>
                            <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Nội dung hợp tác: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <!-- <textarea class="form-control" rows="7" ng-model="editContractData.contentContract"></textarea> -->
                                        <ul class="nav navbar-right panel_toolbox">
                                            <li>
                                                <a data-toggle="collapse" data-target="#add_activity" class="cursor">
                                                    Thêm hoạt động hợp tác
                                                    <i class="fa fa-plus-circle"></i>
                                                </a>
                                            </li>
                                        </ul>
                                        <!-- <input  class="form-control col-md-7 col-xs-12" type="text" ng-model="editContractData.cooperateActivityValue"> -->
                                        <textarea id="add_activity" class="form-control collapse" rows="7" ng-model="editContractData.cooperateActivityValue"></textarea>
                                        <br />
                                        <table class="table table-striped">
                                            <tbody>
                                                <tr ng-repeat="activity in editContractData.cooperateActivity" id="tr_activity_{{activity.id}}">
                                                    <!-- <th scope="row">{{typeContract.id}}</th> -->
                                                    <td id="activity{{activity.id}}">{{activity.cooperateActivity}}</td>
                                                    <th>
                                                        <i id="edit_activity_{{activity.id}}" class="fa fa-edit cursor" ng-click="editActivity(activity.id); edit_activity = true"></i>
                                                        <i id="save_edit_activity_{{activity.id}}" class="fa fa-save cursor" ng-click="saveEditActivity(activity.id)" ng-if="edit_activity"></i>
                                                    </th>
                                                    <th><i class="fa fa-trash cursor" data-toggle="modal" data-target="#delete_activity" ng-click="confirmDelete(activity.id)"></i></th>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="middle-name" class="control-label col-md-4 col-sm-4 col-xs-12">Kinh phí: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input id="middle-name" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="editContractData.funding">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="middle-name" class="control-label col-md-4 col-sm-4 col-xs-12">Lưu ý: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input id="middle-name" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="editContractData.notice">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="middle-name" class="control-label col-md-4 col-sm-4 col-xs-12">Kết quả hợp tác: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input id="middle-name" class="form-control col-md-7 col-xs-12" type="text" name="middle-name" ng-model="editContractData.result">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Ngày ký: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="date" class="form-control col-md-7 col-xs-12" ng-model="editContractData.startDate" value="{{editContractData.startDate}}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Ngày hết hiệu lựu: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="date" class="form-control col-md-7 col-xs-12" ng-model="editContractData.endDate" value="{{editContractData.endDate}}">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                        <b>Biên bản ghi nhớ:</b>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="file" class="form-control col-md-7 col-xs-12 attach-file" name="file" id="contract-edit" accept=".doc, .docx, .pdf">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="editContract()">Lưu thay đổi</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end edit partner info -->
            <!-- them hop dong -->
            <div class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true" id="add_contract" ng-init="getAllPartner(); getAllUnitName(); getAllUetMan();">
                <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" id="close_modal_create"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title" id="myModalLabel">Thêm hợp đồng</h4>
                        </div>
                        <div class="modal-body">
                            <form id="demo-form2" data-parsley-validate class="form-horizontal form-label-left">
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Tên cơ quan hợp tác: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <select class="form-control" ng-model="input.partnerId" ng-change="getPartnerContact(input.partnerId)">
                                            <option ng-repeat="partner in allPartner" value="{{partner.id}}">
                                                {{partner.partnerName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Người ký hợp đồng (đối tác): </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <select class="form-control" ng-model="input.partnerContactId">
                                            <option ng-repeat="contact in allPartnerContact" value="{{contact.id}}">
                                                {{contact.contactName}} - {{contact.email}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group" ng-if="role=='ADMIN_UNIT'">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Đơn vị theo dõi: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <select class="form-control" ng-model="input.unitNameId">
                                            <option ng-repeat="unit in allUnit" value="{{unit.id}}">
                                                {{unit.unitName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">Người ký hợp đồng (VNU-UET): </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <select class="form-control" ng-model="input.uetManId">
                                            <option ng-repeat="uetMan in allUetMan" value="{{uetMan.id}}">
                                                {{uetMan.uetManName}}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                                <!-- <div class="form-group">
                                        <label class="control-label col-md-4 col-sm-4 col-xs-12">Loại hợp đồng: </label>
                                        <div class="col-md-6 col-sm-6 col-xs-12">
                                            <select class="form-control" ng-model="input.typeContractId">
                                                <option ng-repeat="typeContract in allTypeContract" value="{{typeContract.id}}">
                                                    {{typeContract.typeContract}}
                                                </option>
                                            </select>
                                        </div>
                                    </div> -->
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Nội dung hợp tác chính: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <textarea class="form-control" rows="5" ng-model="input.contentContract"></textarea>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Kinh phí: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="text" class="form-control col-md-7 col-xs-12" ng-model="input.funding">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Lưu ý: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="text" class="form-control col-md-7 col-xs-12" ng-model="input.notice">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Ngày ký: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="date" class="form-control col-md-7 col-xs-12" ng-model="input.startDate">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12" for="last-name">Ngày hết hiệu lựu: </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="date" class="form-control col-md-7 col-xs-12" ng-model="input.endDate">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="control-label col-md-4 col-sm-4 col-xs-12">
                                        <b>Biên bản ghi nhớ:</b>
                                    </label>
                                    <div class="col-md-6 col-sm-6 col-xs-12">
                                        <input type="file" class="form-control col-md-7 col-xs-12 attach-fiale" name="file" id="contract-create" accept=".doc, .docx, .pdf">
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            <button type="button" class="btn btn-primary" ng-click="createContract()">Tạo hợp đồng</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end them hop dong -->
            <!-- confirm delete cotnract -->
            <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_contract">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa hợp đồng này</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deleteContract()">Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end confirm delete contract -->
            <!-- comfirm delete activity -->
            <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="delete_activity">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete_activity"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa hoạt động này?</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deleteActivity(confirmDeleteId)">Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end confirm delte activity -->
            <!-- partner contacts -->
            <div class="modal fade bs-example-modal-lg" role="dialog" aria-hidden="true" id="show_partner_details">
                <div class="modal-dialog" style="width: 80vw;">
                    <div class="modal-content" id="show_partner_details_modal_content">
                        <div class="modal-header">
                            <!-- <button type="button" class="close" data-dismiss="modal" id="close_modal_show_partner_details"><span aria-hidden="true">×</span>
                            </button> -->
                            <h4 class="modal-title" id="myModalLabel">Thông tin liên lạc {{PartnerContacts.partnerName}}</h4>
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" ng-if="danger_edit">
                                <strong>{{errorMessage}}</strong>
                            </div>
                            <div class="alert alert-success" ng-if="successdelete_edit">
                                <strong>{{successMessage}}</strong>
                            </div>
                            <div class="" role="tabpanel" data-example-id="togglable-tabs">
                                <ul id="myTab" class="nav nav-tabs bar_tabs" role="tablist">
                                    <li role="presentation"><a data-target="#information" class="cursor" id="information-tab" role="tab" data-toggle="tab" aria-expanded="true">Thông tin đối tác</a>
                                    </li>
                                    <!-- <li role="presentation"><a class="cursor" data-target="#contract" role="tab" id="contract-tab" data-toggle="tab" aria-expanded="false">Hợp đồng</a>
                                    </li> -->
                                    <li role="presentation"><a ng-click="alert()" data-target="#activity" class="cursor" id="activity-tab" role="tab" data-toggle="tab" aria-expanded="true">Hoạt động hợp tác cụ thể<span class="badge bg-red" ng-if="editAnnualActivityCount > 0">{{editAnnualActivityCount}}</span></a>
                                    </li>
                                    <li role="presentation"><a data-target="#contact" class="cursor" id="contact-tab" role="tab" data-toggle="tab" aria-expanded="true">Liên hệ<span class="badge bg-red" ng-if="editContactCount > 0">{{editContactCount}}</span></a>
                                    </li>
                                </ul>
                                <div id="myTabContent" class="tab-content">
                                    <div role="tabpanel" class="tab-pane fade" id="information" aria-labelledby="information-tab">
                                        <div ui-view="information"></div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="contract" aria-labelledby="contract-tab">
                                        <div ui-view="contract"></div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="activity" aria-labelledby="activity-tab">
                                        <div ui-view="activity"></div>
                                    </div>
                                    <div role="tabpanel" class="tab-pane fade" id="contact" aria-labelledby="contact-tab">
                                        <div ui-view="contact"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!-- <div class="modal-footer"> -->
                        <!-- </div> -->
                    </div>
                </div>
            </div>
            <!-- end partner contacts -->
            <div class="modal fade bs-example-modal-sm delete-modal" tabindex="-1" role="dialog" aria-hidden="true" id="delete_partner">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" id="close_modal_delete_partner"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa Đối tác này này?</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deletePartner(confirmDeleteId)">Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bs-example-modal-sm delete-modal" tabindex="-1" role="dialog" aria-hidden="true" id="delete_partner_contact">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" ng-click="closeModal('delete_partner_contact')" id="close_modal_delete_partner_contact"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa liên hệ {{confirmDeleteName}}?</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" ng-click="closeModal('delete_partner_contact')">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deletePartnerContact(confirmDeleteId)">Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="confirm_close_modal">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" ng-click="closeModal('confirm_close_modal')">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn hủy bỏ những việc đang làm?</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" ng-click="closeModal('confirm_close_modal')">Không</button>
                            <button type="button" class="btn btn-primary" ng-click="closeModal('confirm_close_modal'); closeModal('show_partner_details');">Có</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal fade bs-example-modal-sm delete-modal" tabindex="-1" role="dialog" aria-hidden="false" id="delete_activity_">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" ng-click="closeModal('delete_activity_')" id="close_modal_delete"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa hoạt động {{confirmDeleteName}}</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" ng-click="closeModal('delete_activity_')">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deleteAnnualActivity(confirmDeleteId, false)">Xóa</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- confirm delete cotnract -->
            <!-- <div class="modal fade bs-example-modal-sm delete-modal" tabindex="-1" role="dialog" aria-hidden="true" id="delete_contract">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" ng-click="close('delete_contract')" id="close_modal_delete"><span aria-hidden="true">×</span>
                            </button>
                            <h4 class="modal-title">Bạn có chắc muốn xóa hợp đồng này</h4>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" ng-click="close('delete_contract')">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="deleteContract(); close('delete_contract');">Xóa</button>
                        </div>
                    </div>
                </div>
            </div> -->
            <!-- end confirm delete contract -->
            <!-- share contract -->
            <div class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true" id="share_contract">
                <div class="modal-dialog modal-sm">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close" id="close_modal_delete"><span aria-hidden="true">×</span>
                            </button>
                            <!-- <h4 class="modal-title">Bạn có chắc muốn xóa hợp đồng này</h4> -->
                        </div>
                        <div class="modal-body">
                            <div class="alert alert-danger" ng-if="danger_edit">
                                <strong>{{errorMessage}}</strong>
                            </div>
                            <div class="alert alert-success" ng-if="successdelete_edit">
                                <strong>{{successMessage}}</strong>
                            </div>
                            <table class="table table-striped">
                                <thead>
                                    <tr>
                                        <th>#</th>
                                        <th>Đơn vị theo dõi</th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="unitName in allUnit" ng-init="unitName.checked = false" id="tr_unitName_{{unitName.id}}" class="cursor" ng-click="unitName.checked = !unitName.checked">
                                        <th scope="row">{{unitName.id}}</th>
                                        <td id="unitName_{{unitName.id}}">{{unitName.unitName}}</td>
                                        <td id="username_{{unitName.id}}" class="a-center">
                                            <i class="fa fa-check" ng-if="unitName.checked == true"></i>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">Hủy</button>
                            <button type="button" class="btn btn-primary" ng-click="shareContract()">Chia sẻ</button>
                        </div>
                    </div>
                </div>
            </div>
            <!-- end share contract -->
        </div>
        <!-- </div> -->
    </div>
</div>